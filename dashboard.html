
{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1 class="h3 mb-3">Novels</h1>
<form class="mb-4" action="{{ url_for('upload_novel') }}" method="post" enctype="multipart/form-data">
  <div class="input-group">
    <input class="form-control" type="file" name="file" accept=".txt,.epub" required>
    <button class="btn btn-primary">Upload</button>
  </div>
</form>
<table class="table table-dark table-striped">
<thead><tr><th>ID</th><th>Title</th><th>Chapters</th><th></th></tr></thead>
<tbody>
{% for n in novels %}
<tr>
  <td>{{ n.id }}</td>
  <td>{{ n.title }}</td>
  <td>{{ n.chapters|length }}</td>
  <td><a class="btn btn-sm btn-outline-light" href="{{ url_for('view_novel', novel_id=n.id) }}">Open</a></td>
</tr>
{% else %}
<tr><td colspan="4" class="text-muted">No novels yet.</td></tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
